# Excalidraw 快速上手指南

这份指南将帮助你从零开始快速上手 Excalidraw，无论是直接使用还是进行二次开发。

## 1. 环境准备

### 1.1 基础环境

```bash
# Node.js 版本要求
node --version  # 需要 18.0.0 - 22.x.x

# 推荐使用 Yarn（Excalidraw 官方使用）
npm install -g yarn
yarn --version

# 或者使用 npm
npm --version
```

### 1.2 获取源码

```bash
# 方式一：直接使用（推荐初学者）
npm install @excalidraw/excalidraw
# 或
yarn add @excalidraw/excalidraw

# 方式二：下载源码（推荐深度学习）
git clone https://github.com/excalidraw/excalidraw.git
cd excalidraw
yarn install
```

## 2. 最简实现（5分钟上手）

### 2.1 React 项目集成

```typescript
// App.tsx
import React from "react";
import { Excalidraw } from "@excalidraw/excalidraw";
import "@excalidraw/excalidraw/index.css";

function App() {
  return (
    <div style={{ height: "100vh" }}>
      <Excalidraw />
    </div>
  );
}

export default App;
```

就是这么简单！运行项目你就能看到一个完整的画板应用。

### 2.2 纯 HTML 集成

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Excalidraw Demo</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/@excalidraw/excalidraw@latest/dist/prod/index.css">
</head>
<body>
    <div id="root" style="height: 100vh;"></div>
    
    <script type="module">
        import { Excalidraw } from "https://esm.sh/@excalidraw/excalidraw";
        
        const App = () => React.createElement(
            "div",
            { style: { height: "100vh" } },
            React.createElement(Excalidraw)
        );
        
        ReactDOM.render(React.createElement(App), document.getElementById("root"));
    </script>
</body>
</html>
```

## 3. 基础功能配置（15分钟掌握）

### 3.1 基础 Props 配置

```typescript
import React, { useState } from "react";
import { Excalidraw } from "@excalidraw/excalidraw";
import type { ExcalidrawElement, AppState } from "@excalidraw/excalidraw/types";

function MyExcalidraw() {
  const [elements, setElements] = useState<ExcalidrawElement[]>([]);
  const [appState, setAppState] = useState<AppState | null>(null);

  return (
    <div style={{ height: "100vh" }}>
      <Excalidraw
        // 初始数据
        initialData={{
          elements: [],
          appState: { 
            viewBackgroundColor: "#f0f0f0", // 背景色
            currentItemFontFamily: 1,       // 默认字体 (Virgil)
          },
        }}
        
        // 监听变化
        onChange={(elements, appState) => {
          console.log("Elements changed:", elements);
          console.log("AppState changed:", appState);
          setElements(elements);
          setAppState(appState);
        }}
        
        // UI 配置
        UIOptions={{
          canvasActions: {
            export: true,        // 显示导出按钮
            loadScene: false,    // 隐藏导入场景
            saveAsImage: true,   // 显示保存图片
            theme: true,         // 显示主题切换
            clearCanvas: false,  // 隐藏清空画布
          },
          tools: {
            image: true,         // 启用图片工具
          }
        }}
        
        // 主题
        theme="light"
        
        // 语言
        langCode="zh-CN"
        
        // 模式
        viewModeEnabled={false}  // 关闭只读模式
        zenModeEnabled={false}   // 关闭专注模式
        gridModeEnabled={false}  // 关闭网格模式
        
        // 自动聚焦
        autoFocus={true}
      />
    </div>
  );
}
```

### 3.2 自定义工具栏

```typescript
import React from "react";
import { Excalidraw, MainMenu, WelcomeScreen } from "@excalidraw/excalidraw";

function CustomExcalidraw() {
  return (
    <div style={{ height: "100vh" }}>
      <Excalidraw
        // 自定义顶部右侧UI
        renderTopRightUI={(isMobile, appState) => (
          <div style={{ display: "flex", gap: "8px" }}>
            <button
              onClick={() => {
                console.log("自定义按钮被点击");
                // 执行自定义逻辑
              }}
              style={{
                padding: "8px 16px",
                border: "1px solid #ccc",
                borderRadius: "4px",
                backgroundColor: "white",
              }}
            >
              自定义功能
            </button>
          </div>
        )}
        
        // 自定义统计信息
        renderCustomStats={(elements, appState) => (
          <div style={{ padding: "10px" }}>
            <div>元素数量: {elements.length}</div>
            <div>缩放级别: {Math.round(appState.zoom.value * 100)}%</div>
          </div>
        )}
      >
        {/* 可以在这里添加子组件 */}
        <WelcomeScreen>
          <WelcomeScreen.Hints.MenuHint />
          <WelcomeScreen.Hints.ToolbarHint />
        </WelcomeScreen>
        
        <MainMenu>
          <MainMenu.DefaultItems.SaveAsImage />
          <MainMenu.DefaultItems.Export />
          <MainMenu.Separator />
          {/* 自定义菜单项 */}
          <MainMenu.Item
            onSelect={() => console.log("自定义菜单项点击")}
            shortcut="⌘K"
          >
            自定义功能
          </MainMenu.Item>
        </MainMenu>
      </Excalidraw>
    </div>
  );
}
```

### 3.3 事件处理

```typescript
import React, { useRef } from "react";
import { Excalidraw, convertToExcalidrawElements } from "@excalidraw/excalidraw";
import type { ExcalidrawImperativeAPI } from "@excalidraw/excalidraw/types";

function EventHandlingExample() {
  const excalidrawRef = useRef<ExcalidrawImperativeAPI>(null);

  return (
    <div style={{ height: "100vh" }}>
      <Excalidraw
        ref={excalidrawRef}
        
        // 指针事件
        onPointerUpdate={(payload) => {
          console.log("指针位置:", payload.pointer);
        }}
        
        // 粘贴事件
        onPaste={(data, event) => {
          console.log("粘贴数据:", data);
          
          // 可以在这里处理自定义粘贴逻辑
          if (data.text === "自定义文本") {
            // 创建自定义元素
            const elements = convertToExcalidrawElements([
              {
                type: "text",
                x: 100,
                y: 100,
                text: "这是自定义粘贴的文本",
                fontSize: 20,
                fontFamily: 1,
                textAlign: "left",
                verticalAlign: "top",
              }
            ]);
            
            // 更新场景
            excalidrawRef.current?.updateScene({ elements });
            
            return false; // 阻止默认处理
          }
          
          return true; // 允许默认处理
        }}
        
        // 库变化事件
        onLibraryChange={(libraryItems) => {
          console.log("库已更新:", libraryItems);
          // 可以保存到本地存储
          localStorage.setItem("excalidraw-library", JSON.stringify(libraryItems));
        }}
        
        // 滚动变化
        onScrollChange={(scrollX, scrollY) => {
          console.log("滚动位置:", scrollX, scrollY);
        }}
        
        // 链接打开
        onLinkOpen={(element, event) => {
          console.log("链接被点击:", element.link);
          // 可以自定义链接处理逻辑
          event.preventDefault();
          window.open(element.link, "_blank");
        }}
      />
    </div>
  );
}
```

## 4. 数据操作（30分钟实战）

### 4.1 保存和加载数据

```typescript
import React, { useRef, useState } from "react";
import { Excalidraw, exportToBlob, serializeAsJSON } from "@excalidraw/excalidraw";
import type { ExcalidrawImperativeAPI, ExcalidrawElement } from "@excalidraw/excalidraw/types";

function DataManagementExample() {
  const excalidrawRef = useRef<ExcalidrawImperativeAPI>(null);
  const [savedData, setSavedData] = useState<string | null>(null);

  // 保存为JSON
  const saveAsJSON = () => {
    const elements = excalidrawRef.current?.getSceneElements();
    const appState = excalidrawRef.current?.getAppState();
    
    if (elements && appState) {
      const data = serializeAsJSON({
        elements,
        appState,
        files: excalidrawRef.current?.getFiles() || {},
      });
      
      setSavedData(data);
      
      // 保存到文件
      const blob = new Blob([data], { type: "application/json" });
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = "drawing.excalidraw";
      a.click();
      URL.revokeObjectURL(url);
    }
  };

  // 加载JSON数据
  const loadFromJSON = () => {
    const input = document.createElement("input");
    input.type = "file";
    input.accept = ".excalidraw";
    
    input.onchange = (e) => {
      const file = (e.target as HTMLInputElement).files?.[0];
      if (!file) return;
      
      const reader = new FileReader();
      reader.onload = (e) => {
        try {
          const data = JSON.parse(e.target?.result as string);
          
          excalidrawRef.current?.updateScene({
            elements: data.elements || [],
          });
          
          if (data.appState) {
            excalidrawRef.current?.updateScene({
              appState: data.appState,
            });
          }
          
        } catch (error) {
          console.error("加载失败:", error);
        }
      };
      reader.readAsText(file);
    };
    
    input.click();
  };

  // 导出为图片
  const exportAsImage = async () => {
    const elements = excalidrawRef.current?.getSceneElements();
    const appState = excalidrawRef.current?.getAppState();
    const files = excalidrawRef.current?.getFiles();

    if (elements && appState) {
      const blob = await exportToBlob({
        elements,
        appState,
        files,
        mimeType: "image/png",
        quality: 0.8,
      });

      // 下载图片
      const url = URL.createObjectURL(blob);
      const a = document.createElement("a");
      a.href = url;
      a.download = "drawing.png";
      a.click();
      URL.revokeObjectURL(url);
    }
  };

  // 清空画布
  const clearCanvas = () => {
    excalidrawRef.current?.updateScene({
      elements: [],
    });
  };

  return (
    <div style={{ height: "100vh" }}>
      {/* 操作按钮 */}
      <div style={{ 
        position: "absolute", 
        top: 10, 
        left: 10, 
        zIndex: 10,
        display: "flex",
        gap: "8px",
      }}>
        <button onClick={saveAsJSON}>保存JSON</button>
        <button onClick={loadFromJSON}>加载JSON</button>
        <button onClick={exportAsImage}>导出图片</button>
        <button onClick={clearCanvas}>清空画布</button>
      </div>

      <Excalidraw
        ref={excalidrawRef}
        onChange={(elements, appState) => {
          // 自动保存到 localStorage
          const data = {
            elements,
            appState: {
              viewBackgroundColor: appState.viewBackgroundColor,
              zoom: appState.zoom,
              scrollX: appState.scrollX,
              scrollY: appState.scrollY,
            },
            timestamp: Date.now(),
          };
          localStorage.setItem("excalidraw-autosave", JSON.stringify(data));
        }}
        
        initialData={(() => {
          // 从 localStorage 恢复数据
          try {
            const saved = localStorage.getItem("excalidraw-autosave");
            if (saved) {
              const data = JSON.parse(saved);
              return {
                elements: data.elements || [],
                appState: data.appState || {},
              };
            }
          } catch (error) {
            console.error("恢复数据失败:", error);
          }
          return { elements: [] };
        })()}
      />
    </div>
  );
}
```

### 4.2 程序化创建元素

```typescript
import React, { useRef } from "react";
import { Excalidraw, convertToExcalidrawElements } from "@excalidraw/excalidraw";
import type { ExcalidrawImperativeAPI } from "@excalidraw/excalidraw/types";

function ProgrammaticExample() {
  const excalidrawRef = useRef<ExcalidrawImperativeAPI>(null);

  // 创建基础图形
  const createBasicShapes = () => {
    const elements = convertToExcalidrawElements([
      // 矩形
      {
        type: "rectangle",
        x: 100,
        y: 100,
        width: 200,
        height: 100,
        strokeColor: "#000000",
        backgroundColor: "#ff0000",
        fillStyle: "hachure",
        strokeWidth: 2,
        roughness: 1,
      },
      
      // 圆形
      {
        type: "ellipse",
        x: 400,
        y: 100,
        width: 150,
        height: 150,
        strokeColor: "#0000ff",
        backgroundColor: "transparent",
        strokeWidth: 3,
        roughness: 0.5,
      },
      
      // 菱形
      {
        type: "diamond",
        x: 100,
        y: 300,
        width: 120,
        height: 120,
        strokeColor: "#00ff00",
        backgroundColor: "#ffff00",
        fillStyle: "solid",
        strokeWidth: 1,
      },
      
      // 文本
      {
        type: "text",
        x: 400,
        y: 350,
        text: "Hello Excalidraw!",
        fontSize: 20,
        fontFamily: 1, // Virgil
        textAlign: "center",
        verticalAlign: "top",
        strokeColor: "#000000",
      },
    ]);

    excalidrawRef.current?.updateScene({ elements });
  };

  // 创建箭头和线条
  const createArrowsAndLines = () => {
    const elements = convertToExcalidrawElements([
      // 箭头
      {
        type: "arrow",
        x: 100,
        y: 500,
        points: [[0, 0], [200, 0]], // 水平箭头
        strokeColor: "#ff0000",
        strokeWidth: 3,
        startArrowhead: null,
        endArrowhead: "arrow",
      },
      
      // 折线箭头
      {
        type: "arrow", 
        x: 100,
        y: 600,
        points: [[0, 0], [100, 50], [200, -30]], // L形箭头
        strokeColor: "#0000ff",
        strokeWidth: 2,
        startArrowhead: "dot",
        endArrowhead: "triangle",
      },
      
      // 直线
      {
        type: "line",
        x: 400,
        y: 500,
        points: [[0, 0], [150, 100]],
        strokeColor: "#00ff00",
        strokeWidth: 1,
        strokeStyle: "dashed",
      },
    ]);

    excalidrawRef.current?.updateScene({ elements });
  };

  // 创建复杂图形
  const createComplexShape = () => {
    const elements = convertToExcalidrawElements([
      // 流程图示例
      {
        type: "rectangle",
        x: 200,
        y: 100,
        width: 120,
        height: 60,
        strokeColor: "#000000",
        backgroundColor: "#e3f2fd",
        fillStyle: "solid",
      },
      {
        type: "text",
        x: 260,
        y: 125,
        text: "开始",
        fontSize: 16,
        textAlign: "center",
        fontFamily: 2, // Helvetica
      },
      {
        type: "arrow",
        x: 260,
        y: 160,
        points: [[0, 0], [0, 40]],
        strokeColor: "#000000",
        endArrowhead: "arrow",
      },
      {
        type: "diamond",
        x: 200,
        y: 200,
        width: 120,
        height: 80,
        strokeColor: "#000000",
        backgroundColor: "#fff3e0",
        fillStyle: "solid",
      },
      {
        type: "text",
        x: 260,
        y: 235,
        text: "条件判断",
        fontSize: 14,
        textAlign: "center",
        fontFamily: 2,
      },
    ]);

    excalidrawRef.current?.updateScene({ elements });
  };

  // 批量操作元素
  const batchOperations = () => {
    const currentElements = excalidrawRef.current?.getSceneElements() || [];
    
    // 选择所有矩形
    const rectangles = currentElements.filter(el => el.type === "rectangle");
    
    // 批量修改颜色
    const updatedElements = currentElements.map(element => {
      if (element.type === "rectangle") {
        return {
          ...element,
          backgroundColor: "#f0f0f0",
          strokeColor: "#333333",
        };
      }
      return element;
    });

    excalidrawRef.current?.updateScene({ elements: updatedElements });
  };

  return (
    <div style={{ height: "100vh" }}>
      <div style={{ 
        position: "absolute", 
        top: 10, 
        left: 10, 
        zIndex: 10,
        display: "flex",
        gap: "8px",
        flexWrap: "wrap",
      }}>
        <button onClick={createBasicShapes}>基础图形</button>
        <button onClick={createArrowsAndLines}>箭头线条</button>
        <button onClick={createComplexShape}>复杂图形</button>
        <button onClick={batchOperations}>批量操作</button>
      </div>

      <Excalidraw ref={excalidrawRef} />
    </div>
  );
}
```

## 5. 协作功能集成

### 5.1 简单协作实现

```typescript
import React, { useRef, useEffect, useState } from "react";
import { Excalidraw } from "@excalidraw/excalidraw";
import type { 
  ExcalidrawImperativeAPI, 
  ExcalidrawElement,
  Collaborator
} from "@excalidraw/excalidraw/types";

// 模拟的 WebSocket 协作
class SimpleCollaborationProvider {
  private ws: WebSocket | null = null;
  private callbacks: Set<(data: any) => void> = new Set();

  connect(url: string) {
    this.ws = new WebSocket(url);
    
    this.ws.onmessage = (event) => {
      const data = JSON.parse(event.data);
      this.callbacks.forEach(callback => callback(data));
    };
  }

  send(data: any) {
    if (this.ws?.readyState === WebSocket.OPEN) {
      this.ws.send(JSON.stringify(data));
    }
  }

  onMessage(callback: (data: any) => void) {
    this.callbacks.add(callback);
    return () => this.callbacks.delete(callback);
  }

  disconnect() {
    this.ws?.close();
  }
}

function CollaborationExample() {
  const excalidrawRef = useRef<ExcalidrawImperativeAPI>(null);
  const [collaborators, setCollaborators] = useState<Map<string, Collaborator>>(new Map());
  const collaboration = useRef(new SimpleCollaborationProvider());

  useEffect(() => {
    // 连接协作服务器（这里使用模拟数据）
    // collaboration.current.connect("ws://localhost:8080");

    // 监听协作消息
    const unsubscribe = collaboration.current.onMessage((data) => {
      switch (data.type) {
        case "elements_update":
          excalidrawRef.current?.updateScene({
            elements: data.elements,
            commitToHistory: false, // 不记录到历史
          });
          break;
          
        case "collaborator_update":
          setCollaborators(prev => {
            const newCollaborators = new Map(prev);
            if (data.collaborator) {
              newCollaborators.set(data.userId, data.collaborator);
            } else {
              newCollaborators.delete(data.userId);
            }
            return newCollaborators;
          });
          break;
      }
    });

    return () => {
      unsubscribe();
      collaboration.current.disconnect();
    };
  }, []);

  // 发送元素更新
  const handleElementsChange = (elements: ExcalidrawElement[]) => {
    collaboration.current.send({
      type: "elements_update",
      elements: elements,
      timestamp: Date.now(),
    });
  };

  // 发送指针位置
  const handlePointerUpdate = (payload: any) => {
    collaboration.current.send({
      type: "pointer_update",
      pointer: payload.pointer,
      button: payload.button,
      timestamp: Date.now(),
    });
  };

  return (
    <div style={{ height: "100vh" }}>
      <Excalidraw
        ref={excalidrawRef}
        
        // 协作模式
        isCollaborating={true}
        
        // 协作者
        collaborators={collaborators}
        
        // 元素变化回调
        onChange={(elements, appState) => {
          handleElementsChange(elements);
        }}
        
        // 指针更新回调
        onPointerUpdate={handlePointerUpdate}
        
        // 用户名生成
        generateLinkForSelection={() => {
          return "https://your-app.com/drawing/123";
        }}
      />
      
      {/* 协作者列表显示 */}
      {collaborators.size > 0 && (
        <div style={{
          position: "absolute",
          top: 10,
          right: 10,
          background: "white",
          padding: "10px",
          borderRadius: "4px",
          border: "1px solid #ccc",
          zIndex: 10,
        }}>
          <h4>在线用户 ({collaborators.size})</h4>
          {Array.from(collaborators.values()).map((collaborator, index) => (
            <div key={index} style={{ margin: "4px 0" }}>
              <span 
                style={{
                  display: "inline-block",
                  width: "12px",
                  height: "12px",
                  backgroundColor: collaborator.color?.background,
                  borderRadius: "50%",
                  marginRight: "8px",
                }}
              />
              {collaborator.username || `用户 ${index + 1}`}
            </div>
          ))}
        </div>
      )}
    </div>
  );
}
```

## 6. 常见问题解决

### 6.1 样式冲突

```css
/* 避免全局样式影响 Excalidraw */
.excalidraw-container {
  /* 重置可能冲突的样式 */
  box-sizing: border-box;
  font-family: inherit;
  
  /* 确保容器占满可用空间 */
  width: 100%;
  height: 100%;
  
  /* 防止外部样式影响 */
  position: relative;
  overflow: hidden;
}

/* 自定义主题样式 */
.excalidraw .Island {
  background: #f8f9fa !important;
  border: 1px solid #e9ecef !important;
}

.excalidraw .ToolIcon_type_radio--checked {
  background: #007bff !important;
  color: white !important;
}
```

### 6.2 性能优化

```typescript
// 大量元素时的优化配置
function PerformanceOptimizedExcalidraw() {
  const [elements, setElements] = useState<ExcalidrawElement[]>([]);
  
  // 节流更新
  const throttledOnChange = useMemo(
    () => throttle((elements: ExcalidrawElement[], appState: AppState) => {
      setElements(elements);
      // 只保存必要的状态
      const minimalAppState = {
        viewBackgroundColor: appState.viewBackgroundColor,
        zoom: appState.zoom,
        scrollX: appState.scrollX,
        scrollY: appState.scrollY,
      };
      localStorage.setItem("drawing-state", JSON.stringify({
        elements: elements.slice(0, 1000), // 限制保存的元素数量
        appState: minimalAppState,
      }));
    }, 1000),
    []
  );

  return (
    <Excalidraw
      onChange={throttledOnChange}
      
      // 性能优化选项
      initialData={{
        elements: [],
        scrollToContent: false, // 禁用自动滚动到内容
      }}
      
      // 禁用一些消耗性能的功能
      renderScrollbars={false}
    />
  );
}
```

### 6.3 移动端适配

```typescript
function MobileOptimizedExcalidraw() {
  const [isMobile, setIsMobile] = useState(false);

  useEffect(() => {
    const checkMobile = () => {
      setIsMobile(window.innerWidth <= 768);
    };
    
    checkMobile();
    window.addEventListener("resize", checkMobile);
    return () => window.removeEventListener("resize", checkMobile);
  }, []);

  return (
    <div style={{ 
      height: "100vh", 
      width: "100vw",
      position: "fixed",
      top: 0,
      left: 0,
    }}>
      <Excalidraw
        // 移动端优化配置
        UIOptions={{
          canvasActions: {
            export: !isMobile,        // 移动端隐藏导出
            loadScene: false,         // 移动端隐藏载入
            saveAsImage: !isMobile,   // 移动端隐藏保存
            theme: true,              // 保留主题切换
            clearCanvas: !isMobile,   // 移动端隐藏清空
          },
        }}
        
        // 移动端禁用一些功能
        detectScroll={!isMobile}      // 移动端禁用滚动检测
        handleKeyboardGlobally={!isMobile} // 移动端局部键盘处理
      />
    </div>
  );
}
```

## 7. 下一步学习

### 7.1 进阶主题

现在你已经掌握了 Excalidraw 的基础使用，可以继续学习：

1. **[架构详解](./01-架构详解.md)** - 深入理解 Excalidraw 的设计原理
2. **[元素系统](./02-元素系统.md)** - 学习如何扩展和自定义元素
3. **[渲染引擎](./03-渲染引擎.md)** - 了解绘图和性能优化原理
4. **[实战案例](./12-实战案例.md)** - 看看真实的应用场景

### 7.2 常用资源

```typescript
// 常用工具函数
import { 
  exportToCanvas,     // 导出为 Canvas
  exportToSvg,        // 导出为 SVG
  exportToBlob,       // 导出为文件
  getSceneVersion,    // 获取场景版本
  isInvisiblySmallElement, // 检查元素是否过小
  getNonDeletedElements,   // 获取未删除元素
} from "@excalidraw/excalidraw";

// 类型定义
import type {
  ExcalidrawElement,      // 元素类型
  ExcalidrawTextElement,  // 文本元素
  ExcalidrawImageElement, // 图片元素
  AppState,               // 应用状态
  BinaryFiles,            // 文件映射
  ExcalidrawImperativeAPI, // API接口
} from "@excalidraw/excalidraw/types";
```

### 7.3 调试技巧

```typescript
// 调试模式
if (process.env.NODE_ENV === "development") {
  // 启用调试信息
  window.EXCALIDRAW_DEBUG = true;
  
  // 导出调试函数到全局
  window.getExcalidrawAPI = () => excalidrawRef.current;
  
  // 添加调试面板
  const debugPanel = {
    getElements: () => excalidrawRef.current?.getSceneElements(),
    getAppState: () => excalidrawRef.current?.getAppState(),
    getFiles: () => excalidrawRef.current?.getFiles(),
    clearScene: () => excalidrawRef.current?.updateScene({ elements: [] }),
  };
  
  window.excalidrawDebug = debugPanel;
}

// 在浏览器控制台中可以使用：
// window.excalidrawDebug.getElements() 查看所有元素
// window.excalidrawDebug.clearScene() 清空画布
```

恭喜！你现在已经掌握了 Excalidraw 的基础使用和进阶技巧。快去创建你的画板应用吧！🎨